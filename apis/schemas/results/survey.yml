SurveyBaseAttributes: &SurveyBaseAttributes
  name:
    type: string
    description: The name of the survey.
    maxLength: 255
    example: My first Survey
  description:
    type: string
    description: The description of the survey.
    example: Description of My first Survey
SurveyFullAttributes: &SurveyFullAttributes
  type: object
  description: The attributes associated with the resource.
  properties:
    <<: *SurveyBaseAttributes
    data_table_id:
      type: integer
      description: The data table ID of the survey table.
      example: 123
      format: int64
    survey_url:
      type: string
      description: The url for answering the linked questionnaire.
      example: https://example.results.highbond.com/survey_responses/KUdsQzTZGjRGmiiWA4s9/edit
    created_at:
      type: string
      description: The date the survey was created.
      example: '2019-02-09T13:17:26Z'
      format: date-time
    updated_at:
      type: string
      description: The date the survey was updated.
      example: '2019-03-18T22:02:05Z'
      format: date-time
Survey: &Survey
  type: object
  description: The data associated with the resource.
  required:
    - id
    - type
    - attributes
    - relationships
  properties:
    id:
      type: string
      description: The ID of the survey.
      example: '300'
    type:
      type: string
      description: The classification of the object (`"surveys"`).
      example: surveys
    attributes: *SurveyFullAttributes
    relationships:
      type: object
      description: The relationships associated with the resource.
      required:
        - analysis
        - questionnaire
      properties:
        analysis:
          $ref: '../../components/schemas.yml#/RelationshipObject'
        questionnaire:
          $ref: '../../components/schemas.yml#/RelationshipObject'
      example:
        analysis:
          data:
            id: '20'
            type: analyses
        questionnaire:
          data:
            id: '29'
            type: questionnaires
CreateSurveyPayload:
  type: object
  description: The data associated with the resource.
  required:
    - data
  properties:
    data:
      type: object
      description: The data associated with the resource.
      required:
        - type
        - attributes
        - relationships
      properties:
        type:
          type: string
          description: The classification of the object (`"surveys"`).
          example: surveys
        attributes:
          type: object
          description: The attributes associated with the resource.
          required:
            - name
          properties:
            <<: *SurveyBaseAttributes
        relationships:
          type: object
          description: The relationships associated with the resource.
          required:
            - questionnaire
          properties:
            questionnaire:
              $ref: '../../components/schemas.yml#/RelationshipObject'
          example:
            questionnaire:
              data:
                id: '29'
                type: questionnaires
UpdateSurveyPayload:
  type: object
  description: The data associated with the resource.
  required:
    - data
  properties:
    data:
      type: object
      description: The data associated with the resource.
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          description: The ID of the survey.
          example: '300'
        type:
          type: string
          description: The classification of the object (`"surveys"`).
          example: surveys
        attributes:
          type: object
          description: The attributes associated with the resource.
          properties:
            <<: *SurveyBaseAttributes
SingleSurveyResponse:
  type: object
  description: The data associated with the resource.
  required:
    - data
  properties:
    data: *Survey
